---
//src/pages/workspace/[workspaceId]/boards.astro
export const prerender = false;
import Layout from '../../../layouts/Layout.astro';
import DashboardHeader from '../../../components/dashboard/DashBoardHeader.astro';
import CreateBoardModal from '../../../components/board/CreateBoardModal.astro';
const { workspaceId } = Astro.params;
---

<Layout title="Tableros del Espacio de Trabajo">
  <div id="app-container" class="h-screen overflow-hidden">
    <DashboardHeader />
    <main class="flex-1 overflow-auto bg-gray-50">
      <div class="p-8">
        <div class="w-full px-6 md:px-12 xl:px-24 2xl:px-40">
          <!-- Header de la vista -->
          <div class="mb-12 pt-8">
            <h1 class="text-4xl font-extrabold text-gray-900 tracking-tight">
              Mis Tableros
            </h1>
            <p class="text-gray-600 mt-3 text-lg">
              Organiza tus proyectos y colabora con tu equipo
            </p>
          </div>

          <!-- Grid de boards -->
          <div id="boards-grid" class="grid gap-12 w-full grid-cols-[repeat(auto-fit,minmax(260px,1fr))]" data-workspace-id={workspaceId}>
            <p id="loading-message" class="col-span-full text-center py-16">Cargando tableros...</p>
          </div>
        </div>
      </div>
    </main>
  </div>

  <!-- Modal para crear board -->
  <CreateBoardModal workspaceId={workspaceId} />
</Layout>

<script>
  import { initBoardsView } from '@/scripts/workspace/boards-view.ts';
  import '@/scripts/shared/toast.ts'; // Importar sistema de toast

  // Inicializar la vista de boards cuando el DOM estÃ© listo
  document.addEventListener('DOMContentLoaded', () => {
    initBoardsView();
  });
</script>