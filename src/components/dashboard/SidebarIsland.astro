---
// Sidebar server frontmatter
const userWorkspaces: any[] = [];
let error: any = null;

void userWorkspaces;
void error;
---


<aside class="w-64 h-screen sticky top-0 left-0 bg-white border-r border-gray-200 flex flex-col shadow-sm z-20" data-island="sidebar">
  <div class="flex flex-col flex-1 overflow-y-auto">
    <div class="px-4 pt-6 pb-2">
      <h3 class="text-xs font-semibold text-gray-400 uppercase mb-2 tracking-wider">
        Espacios de trabajo
      </h3>
      <!-- Contenedor dinámico para los workspaces -->
      <div id="workspaces-list" class="space-y-1"></div>
    </div>
    <!-- Puedes agregar aquí otros elementos fijos del sidebar si es necesario -->
  </div>
</aside>

<!-- Client initializer: import the client-side TypeScript module that sets up event listeners and subscriptions. -->
<script type="module" is:inline>
  // Import and initialize the client-side island initializer. Vite will bundle this module.
  import initSidebarIsland from '/src/scripts/sidebar-island.ts';

  // Initialize when DOM is ready
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', () => initSidebarIsland());
  } else {
  initSidebarIsland();
  }
</script>
 
