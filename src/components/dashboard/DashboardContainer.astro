---
// src/components/dashboard/DashboardContainer.astro
import { useStore } from 'nanostores/astro'; // <-- ESTA ES LA LÍNEA CRÍTICA Y CORRECTA
import { dashboardView } from '../../store';

import WorkspacesView from './WorkspacesView.astro';
import BoardsView from './BoardsView.astro';
import MembersTab from './MembersTab.astro';
import SettingsView from './SettingsView.astro';

const $dashboardView = useStore(dashboardView);
const { currentView, selectedWorkspaceId } = $dashboardView;
---
<main class="flex-1 p-8 bg-gray-50">
  <div class="max-w-4xl">
    {currentView === 'workspaces' && <WorkspacesView />}

    {currentView === 'boards' && selectedWorkspaceId && (
      <BoardsView workspaceId={selectedWorkspaceId} />
    )}

    {currentView === 'members' && selectedWorkspaceId && (
      <MembersTab workspaceId={selectedWorkspaceId} />
    )}

    {currentView === 'settings' && selectedWorkspaceId && (
      <SettingsView workspaceId={selectedWorkspaceId} />
    )}
  </div>
</main>